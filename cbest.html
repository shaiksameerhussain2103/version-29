<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CMR Technical Campus - Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background: #004080;
      color: white;
      padding: 15px;
      text-align: center;
    }
    main {
      padding: 20px;
    }
    #chatbot-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #004080;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 24px;
      cursor: pointer;
      z-index: 10000;
    }
    #chatbot-container {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 400px;
      height: 500px;
      background: white;
      border: 2px solid #004080;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      display: none;
      z-index: 9999;
      overflow: hidden;
    }
    #chatbot-container iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    /* Resize handles (top, right, bottom, left, corners) */
    .resizer {
      position: absolute;
      background: transparent;
    }
    .resizer.right { cursor: ew-resize; width: 5px; top: 0; right: 0; height: 100%; }
    .resizer.left { cursor: ew-resize; width: 5px; top: 0; left: 0; height: 100%; }
    .resizer.bottom { cursor: ns-resize; height: 5px; bottom: 0; left: 0; width: 100%; }
    .resizer.top { cursor: ns-resize; height: 5px; top: 0; left: 0; width: 100%; }
    .resizer.bottom-right { cursor: nwse-resize; width: 10px; height: 10px; right: 0; bottom: 0; }
    .resizer.bottom-left { cursor: nesw-resize; width: 10px; height: 10px; bottom: 0; left: 0; }
    .resizer.top-right { cursor: nesw-resize; width: 10px; height: 10px; top: 0; right: 0; }
    .resizer.top-left { cursor: nwse-resize; width: 10px; height: 10px; top: 0; left: 0; }
  </style>
</head>
<body>
  <header>
    <h1>CMR Technical Campus</h1>
    <p>Demo page with chatbot integration</p>
  </header>
  
  <main>
    <h2>Welcome to CMR Technical Campus</h2>
    <p>This is a demo site showing how the chatbot can be integrated.</p>
  </main>
  
  <button id="chatbot-button">ðŸ’¬</button>
  
  <div id="chatbot-container">
    <iframe src="https://collegegpt-version-29.vercel.app/student-gpt"></iframe>
    <div class="resizer top"></div>
    <div class="resizer right"></div>
    <div class="resizer bottom"></div>
    <div class="resizer left"></div>
    <div class="resizer bottom-right"></div>
    <div class="resizer bottom-left"></div>
    <div class="resizer top-right"></div>
    <div class="resizer top-left"></div>
  </div>
  
  <script>
    const chatbotBtn = document.getElementById("chatbot-button");
    const chatbotContainer = document.getElementById("chatbot-container");

    chatbotBtn.addEventListener("click", () => {
      chatbotContainer.style.display = 
        chatbotContainer.style.display === "block" ? "none" : "block";
    });

    const resizers = document.querySelectorAll(".resizer");
    let currentResizer;
    let originalWidth, originalHeight, originalX, originalY, originalMouseX, originalMouseY;

    for (let resizer of resizers) {
      resizer.addEventListener("mousedown", mousedown);

      function mousedown(e) {
        e.preventDefault();
        currentResizer = resizer;
        originalWidth = parseFloat(getComputedStyle(chatbotContainer).width);
        originalHeight = parseFloat(getComputedStyle(chatbotContainer).height);
        originalX = chatbotContainer.getBoundingClientRect().left;
        originalY = chatbotContainer.getBoundingClientRect().top;
        originalMouseX = e.pageX;
        originalMouseY = e.pageY;
        window.addEventListener("mousemove", mousemove);
        window.addEventListener("mouseup", mouseup);
      }

      function mousemove(e) {
        if (currentResizer.classList.contains("right")) {
          chatbotContainer.style.width = originalWidth + (e.pageX - originalMouseX) + "px";
        } else if (currentResizer.classList.contains("left")) {
          chatbotContainer.style.width = originalWidth - (e.pageX - originalMouseX) + "px";
          chatbotContainer.style.left = originalX + (e.pageX - originalMouseX) + "px";
        } else if (currentResizer.classList.contains("bottom")) {
          chatbotContainer.style.height = originalHeight + (e.pageY - originalMouseY) + "px";
        } else if (currentResizer.classList.contains("top")) {
          chatbotContainer.style.height = originalHeight - (e.pageY - originalMouseY) + "px";
          chatbotContainer.style.top = originalY + (e.pageY - originalMouseY) + "px";
        } else if (currentResizer.classList.contains("bottom-right")) {
          chatbotContainer.style.width = originalWidth + (e.pageX - originalMouseX) + "px";
          chatbotContainer.style.height = originalHeight + (e.pageY - originalMouseY) + "px";
        } else if (currentResizer.classList.contains("bottom-left")) {
          chatbotContainer.style.width = originalWidth - (e.pageX - originalMouseX) + "px";
          chatbotContainer.style.height = originalHeight + (e.pageY - originalMouseY) + "px";
          chatbotContainer.style.left = originalX + (e.pageX - originalMouseX) + "px";
        } else if (currentResizer.classList.contains("top-right")) {
          chatbotContainer.style.width = originalWidth + (e.pageX - originalMouseX) + "px";
          chatbotContainer.style.height = originalHeight - (e.pageY - originalMouseY) + "px";
          chatbotContainer.style.top = originalY + (e.pageY - originalMouseY) + "px";
        } else if (currentResizer.classList.contains("top-left")) {
          chatbotContainer.style.width = originalWidth - (e.pageX - originalMouseX) + "px";
          chatbotContainer.style.height = originalHeight - (e.pageY - originalMouseY) + "px";
          chatbotContainer.style.top = originalY + (e.pageY - originalMouseY) + "px";
          chatbotContainer.style.left = originalX + (e.pageX - originalMouseX) + "px";
        }
      }

      function mouseup() {
        window.removeEventListener("mousemove", mousemove);
        window.removeEventListener("mouseup", mouseup);
      }
    }
  </script>
</body>
</html>
